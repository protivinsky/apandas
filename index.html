<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>APandas: Lightweight wrapper to support custom analytics in Pandas &mdash; APandas 0.0.17 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="AColumn" href="api/acolumn.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            APandas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/acolumn.html">AColumn</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/aframe.html">AFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/afunction.html">AFunction</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/ameta.html">AMeta</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/aseries.html">ASeries</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">APandas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">APandas: Lightweight wrapper to support custom analytics in Pandas</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/protivinsky/apandas/blob/main/doc/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-apandas">
<span id="apandas-lightweight-wrapper-to-support-custom-analytics-in-pandas"></span><h1>APandas: Lightweight wrapper to support custom analytics in Pandas<a class="headerlink" href="#module-apandas" title="Permalink to this heading"></a></h1>
<p><img alt="pytest" src="https://github.com/protivinsky/apandas/actions/workflows/pytest.yaml/badge.svg" /> <a class="reference external" href="https://protivinsky.github.io/apandas/index.html"><img alt="doc" src="https://github.com/protivinsky/apandas/actions/workflows/builddoc.yaml/badge.svg" /></a></p>
<ul class="simple">
<li><p>Allows for separation between analytic definition and its calculation in the dataframe.</p></li>
<li><p>The analytic definitions are composable.</p></li>
<li><p>If analytic columns have not yet been added, they are calculated on-the-fly (including their dependencies if needed).</p></li>
<li><p>Accessed directly by analytic instances (to leverage intellisense support).</p></li>
</ul>
<p>At the moment, only basic arithmetic operations are supported - this is mostly a proof of concept. It should be
easy to add support for other operations or for numpy universal functions. Most complicated functions can be
passed in as lambdas or defined as functions.</p>
<p>“APandas” stands for “Analytic Pandas”.</p>
<section id="basic-example">
<h2>Basic example<a class="headerlink" href="#basic-example" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">apandas</span> <span class="kn">import</span> <span class="n">AColumn</span><span class="p">,</span> <span class="n">AFrame</span>

<span class="c1"># define columns you will add to the dataframe in the beginning</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">AColumn</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">AColumn</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="c1"># and define the transformations of these columns</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">AColumn</span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">AColumn</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">AColumn</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">v</span> <span class="o">-</span> <span class="n">u</span><span class="p">)</span>

<span class="c1"># create a dataframe</span>
<span class="n">af</span> <span class="o">=</span> <span class="n">AFrame</span><span class="p">()</span>
<span class="n">af</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">af</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># now you can just access the final analytic or use it in computation - everything will be created on the fly</span>
<span class="n">af</span><span class="p">[</span><span class="n">z</span><span class="p">]</span>  <span class="c1"># there is [-1, 1, 3] and the columns is named &#39;z&#39;</span>
</pre></div>
</div>
<p>See the tests for more advanced examples.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>At the moment, the library is available only on <a class="reference external" href="https://test.pypi.org/project/apandas/">test.pypi.org</a> until it gets more mature and stable. To install it, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-i<span class="w"> </span>https://test.pypi.org/simple/<span class="w"> </span>apandas
</pre></div>
</div>
</section>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/acolumn.html">AColumn</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/aframe.html">AFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/afunction.html">AFunction</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/ameta.html">AMeta</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/aseries.html">ASeries</a></li>
</ul>
</div>
</section>
<section id="index">
<h1>Index<a class="headerlink" href="#index" title="Permalink to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api/acolumn.html" class="btn btn-neutral float-right" title="AColumn" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Tomas Protivinsky.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>